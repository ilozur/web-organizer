{% extends "main/base.html" %}
{% block meta %}
{% load staticfiles %}
<link rel="stylesheet" href='{% static "css/bootstrap.min.css" %}'>
<link rel="stylesheet" href='{% static "css/base.css" %}'>
<link rel="stylesheet" href='{% static "css/notes.css" %}'>
<link rel="stylesheet" href='{% static "css/preloader.css" %}'>
<script charset='utf-8' type="text/javascript" src='{% static "js/setup_ajax.js" %}'></script>
<script charset='utf-8' type="text/javascript" src='{% static "js/notes/scripts.js" %}'></script>
{% endblock %}
{% block content %}
<h1> Заметки </h1>
<div class="container-fluid">
	<div class="row main">
		<section class="menu col-md-2" id="note_folders">
			<div class="folder">
				<button type="button" class="btn" data-toggle="modal" data-target="#New-Folder">&#9998;</button>
				<button type="button" class="btn" data-toggle="modal" data-target="#New-Folder" style="float: right;">+</button>
			</div>
			<div class="list-group">
				<a class="list-group-item list-group-item-action list-group-item-warning active" id="folder_{{ all_folder.id }}">Все заметки</a>
				<a class="list-group-item list-group-item-action list-group-item-warning" id="folder_{{ recently_deleted_folder.id}}">Недавно удаленные</a>
				{% for folder in folders %}
					<a class="list-group-item list-group-item-action list-group-item-warning" id="folder_{{ folder.id }}">{{ folder.title }}</a>
				{% endfor %}
			</div>
		</section>
		<section class="notes-list col-md-3" id="note_list">
			<div class="toolbar">
				<div class="dropdown btn-lg">
					<button class="btn dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Сортировка</button>
					<div class="dropdown-menu">
						<button type="button" class="dropdown-item" onclick="sort_notes('date_up')">Сначала новые</button>
						<button type="button" class="dropdown-item" onclick="sort_notes('date_down')">Сначала старые</button>
						<button type="button" class="dropdown-item" onclick="sort_notes('title_up')">А..Я</button>
						<button type="button" class="dropdown-item" onclick="sort_notes('title_down')">Я..А</button>
					</div>
					<div style="float: right;">
						<button type="button" class="btn" data-toggle="modal" data-target="#New-Note">&#9998;</button>
						<button type="button" class="btn" data-toggle="modal" data-target="#New-Note">+</button>
					</div>
				</div>
				<div class="input-group search">
					<input type="search" name="aim" class="form-control" placeholder="Поиск" maxlength="255">
					<div class="input-group-append">
						<button class="btn" type="button" id="clean_search_btn" hidden>&#9747;</button>
					</div>
				</div>
			</div>
			<div class="list-group list">
                {% if no_notes %}
                    <p style="margin: auto auto auto auto">{{ lang.no_notes_title }}</p>
                {% else %}
					<p style="margin: auto auto auto auto;" hidden>{{ lang.no_notes_title }}</p>
                    {% for note in notes %}
                        <a id="note_{{ note.id }}" class="list-group-item list-group-item-action list-group-item-warning">{{ note.title }}</a>
                    {% endfor %}
                {% endif %}
			</div>
            <div class="holder" id="show_folder_preloader" hidden>
                <div class="preloader"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
            </div>
		</section>
		<section class="view col-md-7" id="note_show" hidden>
			<div class="note">
				<h3></h3>
				<small class="date"></small>
				<hr/>
				<p class="text"></p>
			</div>
			<br/>
			<button type="button" class="btn" data-toggle="modal" onclick="" data-target="#New-Note">Послушать</button>
			<button type="button" class="btn" data-toggle="modal" onclick="" data-target="#New-Note">Редактировать</button>
			<button type="button" class="btn" id="delete_btn">Удалить</button>
		</section>
        <section class="view col-md-7" id="show_note_preloader" hidden>
            <div class="holder">
                <div class="preloader"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
            </div>
        </section>
	</div>
</div>
<script>init();</script>
{% endblock %}