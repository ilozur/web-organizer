{% extends "main/base.html" %}
{% block meta %}
{% load staticfiles %}
{% load bootstrap %}
<link rel="stylesheet" href='{% static "css/bootstrap.min.css" %}'>
<link rel="stylesheet" href='{% static "css/general.css" %}'>
<link rel="stylesheet" href='{% static "css/calendar.css" %}'>
<link rel="stylesheet" href='{% static "css/base.css" %}'>
<script language="JavaScript" src='{% static "js/setup_ajax.js" %}'></script>
<script language="JavaScript" src='{% static "js/calendar/scripts.js" %}'></script>
<script src="http://api-maps.yandex.ru/2.1/?load=package.full&lang=ru-RU" type="text/javascript"></script>
<script language="JavaScript" src='{% static "js/yandex_map.js" %}'></script>
<script> setup_date({{ now_month_num }}, {{ now_year }}); </script>
{% endblock %}

{% block content %}
<article class="calendar">
    <section class="mast">
        <h1>Календарь</h1>
    </section>
    <section class="content">
        <section class="navigation">
            <nav class="navbar">
                <button type="button" class="btn btn-lg btn-danger" data-toggle="modal" data-target="#In-Map">События на
                    карте
                </button>
                <button type="button" class="btn btn-lg btn-danger" data-toggle="modal" data-target="#My">Мои события
                </button>
                <button type="button" class="btn btn-lg btn-danger" data-toggle="modal" data-target="#All">Все события
                </button>
                <button type="button" class="btn btn-lg btn-danger" data-toggle="modal" data-target="#Recommend">
                    Рекомендованные
                </button>
                <button type="button" class="btn btn-lg btn-danger" data-toggle="modal" data-target="#Synchronization">
                    <picture>
                        <img src='{% static "icons/sync_icon_calendar.png" %}' class="icon">
                    </picture>
                </button>
                <div class="alert alert-danger">
                    <small data-toggle="modal" data-target="#All event">Всего событий: {{ all_events_count }}</small>
                    <br/>
                    <small data-toggle="modal" data-target="#For-Today event">Событий на сегодня: {{ today_events_count }}</small>
                    <br/>
                    <small>Событий за вчера: {{ yesterday_events_count }}</small>
                    <br/>
                    <small>Событий за неделю: {{ week_events_count }}</small>
                    <br/>
                    <small>Событий за месяц: {{ month_events_count }}</small>
                    <br/>
                    <small>Событий за год: {{ year_events_count }}</small>
                </div>
            </nav>
            <nav class="navbar">
                <div class="btn-group btn-group-lg">
                    <button type="button" class="btn btn-danger btn-change" data-num="1">
                        <picture>
                            <img src='{% static "icons/month_icon.png" %}' class="icon">
                        </picture>
                    </button>
                    <button type="button" class="btn btn-danger btn-change" data-num="2">
                        <picture>
                            <img src='{% static "icons/week_icon.png" %}' class="icon">
                        </picture>
                    </button>
                    <button type="button" class="btn btn-danger btn-change" data-num="3">
                        <picture>
                            <img src='{% static "icons/list_icon_calendar.png" %}' class="icon">
                        </picture>
                    </button>
                </div>
                <button type="button" class="btn btn-lg btn-danger" data-toggle="modal" data-target="#New-Date">+</button>
                <div class="btn-group btn-group-lg">
                    <button type="button" class="btn btn-danger">Сначала новые</button>
                    <button type="button" class="btn btn-danger">Сначала старые</button>
                    <button type="button" class="btn btn-danger">А..Я</button>
                    <button type="button" class="btn btn-danger">Я..А</button>
                </div>
            </nav>
        </section>
        <section class="section-mouth">
            <div class="btn-group btn-group-sm btn-mouth">
                <a>
                    <button type="button" class="btn btn-danger" onclick="back_month()">&laquo;</button>
                </a>

                <h2 style="width: 270px">&nbsp;&nbsp;<span id="month_holder">{{ now_month }}</span> <span
                        id="year_holder">{{ now_year }}</span>&nbsp;&nbsp;</h2>
                <a>
                    <button type="button" class="btn btn-danger" onclick="next_month()">&raquo;</button>
                </a>
                &nbsp;&nbsp;
                <a>
                    <button type="button" class="btn btn-danger" onclick="go_to_now_month()">Сегодня</button>
                </a>
            </div>
            <table class="table table-danger table-mouth" id="month_calendar">
                <thead>
                <tr>
                    <th></th>
                    <th>Понедельник</th>
                    <th>Вторник</th>
                    <th>Среда</th>
                    <th>Четверг</th>
                    <th>Пятница</th>
                    <th>Суббота</th>
                    <th>Воскресенье</th>
                </tr>
                </thead>
                <tbody>
                {% for week in weeks %}
                <tr>
                    <th>{{ week.week_num }}</th>
                    {% for day in week.week_days %}
                        {% if day.class %}
                            <td class="{{ day.class }}">
                                {% if day.event %}
                                    <div class="alert alert-primary event" data-toggle="modal" data-target="#Event-Card" onclick="get_event_data_ajax({{ day.event.id }})">
                                        {{ day.event.caption }}
                                    </div>
                                {% endif %}
                                <small class="date">{{ day.day }}</small>
                            </td>
                        {% else %}
                            <td>
                                {% if day.event %}
                                    <div class="alert alert-primary event" data-toggle="modal" data-target="#Event-Card" onclick="get_event_data_ajax({{ day.event.id }})">
                                        {{ day.event.caption }}
                                    </div>
                                {% endif %}
                                <small class="date">{{ day.day }}</small>
                            </td>
                        {% endif %}
                    {% endfor %}
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </section>
        <section class="section-week">
            <div class="btn-group btn-group-sm btn-mouth">
                <a href="#">
                    <button type="button" class="btn btn-danger">&laquo;</button>
                </a>

                <h2>&nbsp;&nbsp;22.10  28.10&nbsp;&nbsp;</h2>
                <a href="#">
                    <button type="button" class="btn btn-danger">&raquo;</button>
                </a>
            </div>
            <table class="table table-danger table-week table-sm" id="table2">
                <thead>
                <tr>
                    <th></th>
                    <th>Понедельник</th>
                    <th>Вторник</th>
                    <th>Среда</th>
                    <th>Четверг</th>
                    <th>Пятница</th>
                    <th>Суббота</th>
                    <th>Воскресенье</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th></th>
                    <td>
                        <small class="date">22</small>
                    </td>
                    <td>
                        <div class="alert alert-danger event" data-toggle="modal" data-target="#Event">
                            День рождения
                        </div>
                        <small class="date">23</small>
                    </td>
                    <td>
                        <small class="date">24</small>
                    </td>
                    <td>
                        <small class="date">25</small>
                    </td>
                    <td class="today">
                        <small class="date">26</small>
                    </td>
                    <td>
                        <small class="date">27</small>
                    </td>
                    <td>
                        <small class="date">28</small>
                    </td>
                </tr>
                </tbody>
            </table>
        </section>
        <section class="section-list">
            <div class="list-group">
                <a href="#" class="list-group-item list-group-item-danger" data-toggle="modal"
                   data-target="#Event">Where is my mind?
                    <div class="date-and-place">
                        <small>29.02.2018</small>
                        |
                        <small><b>Москва</b></small>
                    </div>
                </a>
                <a href="#" class="list-group-item list-group-item-danger" data-toggle="modal"
                   data-target="#Event">Sad but True
                    <div class="date-and-place">
                        <small>13.02.2018</small>
                    </div>
                </a>
                <a href="#" class="list-group-item list-group-item-danger" data-toggle="modal"
                   data-target="#Event">Karma Police
                    <div class="date-and-place">
                        <small>14.02.2018</small>
                    </div>
                </a>
                <a href="#" class="list-group-item list-group-item-danger" data-toggle="modal"
                   data-target="#Event">Starway to Heaven
                    <div class="date-and-place">
                        <small>27.02.2018</small>
                        |
                        <small><b>Королев</b></small>
                    </div>
                </a>
                <a href="#" class="list-group-item list-group-item-danger" data-toggle="modal"
                   data-target="#Event">Californication
                    <div class="date-and-place">
                        <small>27.02.2018</small>
                        |
                        <small><b>Мытищи</b></small>
                    </div>
                </a>
                <a href="#" class="list-group-item list-group-item-danger" data-toggle="modal"
                   data-target="#Event">Personal Jesus
                    <div class="date-and-place">
                        <small>18.02.2018</small>
                    </div>
                </a>
                <a href="#" class="list-group-item list-group-item-danger" data-toggle="modal"
                   data-target="#Event">День рождения
                    <div class="date-and-place">
                        <small>23.10.2018</small>
                        |
                        <small><b>Королев</b></small>
                    </div>
                </a>
                <a href="#" class="list-group-item list-group-item-danger" data-toggle="modal"
                   data-target="#Event">Let It Be
                    <div class="date-and-place">
                        <small>22.02.2018</small>
                    </div>
                </a>
            </div>
            <nav class="navbar navbar-pag">
                <div class="btn-group btn-group-lg">
                    <a href="#">
                        <button type="button" class="btn btn-danger">&laquo;</button>
                    </a>
                    <a href="#">
                        <button type="button" class="btn btn-danger disabled">1</button>
                    </a>
                    <a href="#">
                        <button type="button" class="btn btn-danger">2</button>
                    </a>
                    <a href="#">
                        <button type="button" class="btn btn-danger">3</button>
                    </a>
                    <a href="#">
                        <button type="button" class="btn btn-danger">&raquo;</button>
                    </a>
                </div>
            </nav>
        </section>
    </section>
</article>
<article class="modals">
    {% include "modals/calendar_special.html" %}
    {% include "modals/calendar.html" %}
    {% include "modals/small_parts.html" %}
</article>
</section>
{% endblock %}
